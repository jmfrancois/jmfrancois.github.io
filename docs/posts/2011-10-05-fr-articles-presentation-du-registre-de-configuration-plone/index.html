<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><!-- Favicon & Icons --><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="icon" type="image/x-icon" href="/assets/ico/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/assets/ico/apple-icon-180x180.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/ico/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/ico/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/ico/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/ico/apple-icon-114x114.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/ico/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="144x144" href="/assets/ico/android-icon-144x144.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/ico/favicon-96x96.png"><link rel="icon" type="image/png" sizes="72x72" href="/assets/ico/android-icon-72x72.png"><link rel="icon" type="image/png" sizes="36x36" href="/assets/ico/android-icon-36x36.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/ico/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><!-- Meta Tags --><meta name="generator" content="Astro v5.16.6"><meta name="description" content="Jean-Michel FRANCOIS - Blog"><title>Pr√©sentation du registre de configuration Plone</title><link rel="stylesheet" href="/_astro/_slug_.BJBslw4O.css"></head> <body class="flex flex-col min-h-screen bg-white text-gray-900"> <!-- Top Navigation Bar --> <header class="sticky top-0 z-40 bg-white border-b border-gray-200"> <div class="px-8 py-4 flex items-center justify-between"> <div class="flex items-center gap-8"> <a href="/" class="text-2xl font-bold text-black hover:text-gray-700 transition">
JM Fran√ßois
</a> <nav class="flex items-center gap-6"> <a href="/" class="text-gray-700 hover:text-black transition font-medium text-sm">
Home
</a> <a href="/categories" class="text-gray-700 hover:text-black transition font-medium text-sm">
Categories
</a> <a href="/tags" class="text-gray-700 hover:text-black transition font-medium text-sm">
Tags
</a> </nav> </div> <!-- Social Links --> <div class="flex items-center gap-5"> <!-- Twitter/X --> <a href="https://www.twitter.com/toutpt_fr" target="_blank" rel="noopener noreferrer" class="text-gray-700 hover:text-black transition" aria-label="Twitter"> <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"> <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path> </svg> </a> <!-- LinkedIn --> <a href="http://www.linkedin.com/profile/view?id=42808053" target="_blank" rel="noopener noreferrer" class="text-gray-700 hover:text-blue-700 transition" aria-label="LinkedIn"> <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"> <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.475-2.236-1.986-2.236-1.081 0-1.722.731-2.004 1.438-.103.249-.129.597-.129.946v5.421h-3.554s.05-8.805 0-9.719h3.554v1.375c.427-.659 1.191-1.599 2.897-1.599 2.117 0 3.704 1.385 3.704 4.362v5.581zM5.337 8.855c-1.144 0-1.915-.762-1.915-1.715 0-.955.771-1.715 1.921-1.715 1.147 0 1.915.76 1.915 1.715 0 .953-.768 1.715-1.921 1.715zm1.946 11.597H3.392V9.588h3.891v10.864zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"></path> </svg> </a> <!-- Stack Overflow --> <a href="http://stackoverflow.com/users/622081/toutpt" target="_blank" rel="noopener noreferrer" class="text-gray-700 hover:text-orange-500 transition" aria-label="Stack Overflow"> <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"> <path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.134v6.404h15.008zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852h10.438v-2.137H6.37v2.137zM7.17 13.995h9.282v-2.137H7.17v2.137zm8.945-4.979H6.248v2.137h9.867v-2.137z"></path> </svg> </a> <!-- GitHub (personal) --> <a href="https://github.com/toutpt" target="_blank" rel="noopener noreferrer" class="text-gray-700 hover:text-black transition" aria-label="GitHub"> <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"> <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v 3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path> </svg> </a> <!-- GitHub (Talend) --> <a href="https://github.com/jmfrancois" target="_blank" rel="noopener noreferrer" class="text-gray-700 hover:text-black transition" aria-label="GitHub (Talend)"> <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"> <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v 3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path> </svg> </a> <!-- NPM --> <a href="https://www.npmjs.com/~toutpt" target="_blank" rel="noopener noreferrer" class="text-gray-700 hover:text-red-600 transition" aria-label="NPM"> <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"> <path d="M1.763 0C.786 0 0 .786 0 1.763v20.474C0 23.214.786 24 1.763 24h20.474c.977 0 1.763-.786 1.763-1.763V1.763C24 .786 23.214 0 22.237 0zM5.13 5.323l13.837.019-.009 13.836h-3.464l.012-10.382h-3.456L12.04 19.17H5.13V5.323z"></path> </svg> </a> <!-- CV (document icon) --> <a href="https://www.doyoubuzz.com/jeanmichel-francois" target="_blank" rel="noopener noreferrer" class="text-gray-700 hover:text-black transition border-l border-gray-300 pl-5" aria-label="CV"> <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"> <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"></path> <polyline points="14 2 14 8 20 8" fill="none" stroke="currentColor" stroke-width="2"></polyline> <line x1="12" y1="11" x2="12" y2="17" stroke="currentColor" stroke-width="2"></line> <line x1="9" y1="14" x2="15" y2="14" stroke="currentColor" stroke-width="2"></line> </svg> </a> </div> </div> </header> <!-- Sidebar --> <div class="flex flex-1"> <aside id="sidebar" class="w-64 bg-black text-white overflow-y-auto flex flex-col"> <a href="/" class="flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition font-medium"> <span class="text-lg">üè†</span> <span>Home</span> </a> <a href="/categories" class="flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition font-medium"> <span class="text-lg">üìÅ</span> <span>Categories</span> </a> <a href="/tags" class="flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition font-medium"> <span class="text-lg">üè∑Ô∏è</span> <span>Tags</span> </a> <!-- Side Projects Card --> <div class="mx-4 mb-6 p-4 bg-gray-900 rounded-lg border border-gray-800"> <h3 class="text-white font-bold mb-3 text-sm">Side Projects</h3> <div class="space-y-2"> <a href="https://toutpt.github.io/fuelcalc/index.html" target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 text-gray-300 hover:text-blue-400 transition text-sm"> <span>‚Üí</span> <span>fuelcalc</span> </a> <a href="https://toutpt.github.io/osm-transport-editor/index.html#" target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 text-gray-300 hover:text-blue-400 transition text-sm"> <span>‚Üí</span> <span>osm transport editor</span> </a> </div> </div> <div class="p-6 border-t border-gray-800 text-gray-400 text-sm"> <p>&copy; 2025 JM Fran√ßois</p> </div> </aside> <!-- Main Content --> <main class="flex-1 w-full"> <div class="max-w-4xl mx-auto px-6 py-12">  <article class="post max-w-2xl mx-auto px-4 py-8"> <header class="post-header mb-8 border-b border-gray-200 pb-6"> <h1 class="text-4xl font-bold mb-4">Pr√©sentation du registre de configuration Plone</h1> <div class="post-meta text-gray-600"> <time datetime="2011-10-05T00:00:00.000Z"> October 5, 2011 </time> <div class="categories mt-2"> <span class="font-semibold">Categories:</span> <a href="/categories/fr" class="ml-2 text-blue-600 hover:text-blue-800">fr</a> </div> </div> </header> <div class="post-content prose prose-sm">  <p>Le nouveau moteur de configuration est disponible sous forme de module additionnel depuis Plone4:</p>
<ul>
<li><a href="http://pypi.python.org/pypi/plone.registry">plone.registry</a></li>
<li><a href="http://pypi.python.org/pypi/plone.app.registry">plone.app.registry</a></li>
</ul>
<p>Il utilise z3cform comme moteur de formulaire qui sera donc √©galement install√©.</p>
<p>Dans les versions pr√©c√©dentes de Plone vous utilisiez le portal_properties
qui est un conteneur de ‚Äúfeuille de propri√©t√©s‚Äù (propertysheet).
Dans son utilisation vous pouviez ajouter, modifier ou supprimer vos
configurations en ZMI ou via les profils d‚Äôinstallation.
Vous pouviez √©galement acc√©der √† vos propri√©t√©s par l‚Äôappel √† l‚ÄôAPI de portal_properties.</p>
<p>Alors pourquoi changer ? Le passage aux composants de Zope date de 2001 avec
l‚Äôapparition de Zope3 ; La communaut√© Plone a fait le choix de r√©-√©crire
certaines parties de CMF en utilisant les composants dans le plus grand
respect de Zope2. On peut ainsi voir l‚Äôensemble des packages plone.* comme des modules
python/ztk et tous les packages plone.app.* comme leur int√©gration dans Zope2/CMF.
Au-del√† des raisons techniques, l‚Äôinterface graphique de gestion des configurations s‚Äôen trouve am√©lior√©e.
On voit aussi dispara√Ætre la notion de propertysheet.</p>
<h1 id="pr√©sentation-de-ploneregistry">Pr√©sentation de plone.registry</h1>
<p>Voici la liste des fichiers importants:</p>
<ul>
<li>interfaces.py</li>
<li>registry.py</li>
<li>recordsproxy.py</li>
<li>configure.zcml</li>
<li>field.py</li>
<li>record.py</li>
</ul>
<h2 id="les-interfaces-api">Les interfaces (API)</h2>
<ul>
<li>IPersistentField</li>
<li>IRecord</li>
<li>IRecordProxy</li>
<li>IRegistry</li>
</ul>
<p>IPersistentField est un champ persistant. Un champ d√©finit un type de donn√©e,
par exemple le type nombre entier. Il d√©finit √©galement des m√©tadonn√©es dessus :
le nom, la description, quelques contraintes comme la valeur minimale par exemple.
La liste des types de champs est disponible sur la documentation officielle ou dans le fichier field.py.
En dehors des champs de type primitif, on retrouve un champ de type r√©f√©rence vers un autre Record.</p>
<p>IRecord est un enregistrement dans le registre de configuration.
Cet objet appartient donc au registre et garde un pointeur vers celui-ci via l‚Äôattribut <strong>parent</strong>.
L‚Äôattribut field correspond √† une instance de IPersistentField et l‚Äôattribut value correspond √† la valeur de votre configuration.</p>
<p>IRecordProxy est utilis√© dans le cadre de l‚Äôutilisation de sch√©ma de configuration.
Un sch√©ma de configuration est une interface (zope.interface.Interface) ayant des champs (zope.schema).
C‚Äôest l‚Äôapproche que je privil√©gie dans mes impl√©mentations car elle est tr√®s claire, orient√©e objet et facile √† utiliser.
Donc un RecordProxy est un objet qui peut impl√©menter dynamiquement un sch√©ma de donn√©es.
Les acc√®s au valeur se font alors par les attributs de l‚Äôinstance.</p>
<p>IRegistry est le chef d‚Äôorchestre.
C‚Äôest le composant que vous allez demander via l‚Äôutilisation de queryUtility.
Il est le conteneur des enregistrements et dispose d‚Äôune API permettant d‚Äôacc√©der √† la configuration de diff√©rentes mani√®res :</p>
<ul>
<li>cl√©/valeur</li>
<li>record proxy</li>
</ul>
<h1 id="int√©gration-au-cms-ploneappregistry">Int√©gration au CMS (plone.app.registry)</h1>
<p>Maintenant que vous avez compris la base de ce module nous allons passer √† la partie CMS.</p>
<p>L‚Äôint√©gration r√©alis√©e met √† disposition un registre au niveau du site accessible par le panneau de configuration sous le nom ‚ÄòRegistre de configuration‚Äô.
Il se pr√©sente sous la forme d‚Äôun tableau cl√©, valeur.
Chaque cl√© est affich√©e sous la forme d‚Äôun lien qui ouvrira un ‚Äòoverlay‚Äô contenant un formulaire qui vous permettra de modifier les valeurs</p>
<p>![screenshot of the plone.app.registry controlpanel]({{ site.url }}/assets/imgs/plone-app-registry-edit-field.png)</p>
<h1 id="utilisation-d√©veloppeur--int√©grateur">Utilisation (d√©veloppeur &#x26; int√©grateur)</h1>
<p>Qui dit configuration dit aussi profil de configuration.
Lors de l‚Äôinstallation de votre module vous souhaitez disposer d‚Äôune configuration.
Voici la marche √† suivre.</p>
<h2 id="d√©finition-et-initialisation-de-la-configuration">D√©finition et initialisation de la configuration</h2>
<p>Il faut commencer par cr√©er un sch√©ma de donn√©es comme par exemple :</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>from zope.interface import Interface</span></span>
<span class="line"><span>from zope import schema</span></span>
<span class="line"><span>class IZooSettings(Interface):</span></span>
<span class="line"><span>    entryPrice = schema.Decimal(title=u"Admission charge")</span></span>
<span class="line"><span>    messageOfTheDay = schema.TextLine(title=u"A banner message", default=u"Welcome!")</span></span></code></pre>
<p>Ajouter un fichier registry.xml dans le profile d‚Äôinstallation de votre module:</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;registry></span></span>
<span class="line"><span>  &#x3C;record interface="my.package.interfaces.IZooSettings" prefix="my.package"/></span></span>
<span class="line"><span>&#x3C;/registry></span></span></code></pre>
<p>Vous pouvez installer votre module pour qu‚Äôil b√©n√©ficie de la configuration correspondante.
Les cl√©s auront toutes la forme ‚Äúmy.package.‚Äù via l‚Äôutilisation de l‚Äôoption prefix.</p>
<p>Les valeurs par d√©faut de l‚Äôinterface seront utilis√©es √† la cr√©ation de votre configuration.
Vous pouvez cependant outre passer cela de la mani√®re suivante et proposer d‚Äôautres valeurs dans le profile de configuration:</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;registry></span></span>
<span class="line"><span>  &#x3C;record interface="my.package.interfaces.IZooSettings" prefix="my.package">  </span></span>
<span class="line"><span>    &#x3C;value key="entryPrice">70&#x3C;/value></span></span>
<span class="line"><span>  &#x3C;/record></span></span>
<span class="line"><span>&#x3C;/registry></span></span></code></pre>
<p>C‚Äôest pratique lorsque vous effectuez une int√©gration de plusieurs modules et que vous souhaitez proposer une autre configuration que celle par d√©faut d‚Äôun module X ou Y.</p>
<p>Vous pouvez √©galement demander au registre de ne pas prendre en compte certains champs de votre interface :</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;records interface="my.package.interfaces.IZooSettings"></span></span>
<span class="line"><span>  &#x3C;omit>messageOfTheDay&#x3C;/omit></span></span>
<span class="line"><span>&#x3C;/records></span></span></code></pre>
<h2 id="utilisation-de-la-configuration">Utilisation de la configuration</h2>
<p>Nous pouvons maintenant apprendre √† utiliser cette configuration.
Vous pouvez r√©cup√©rer votre configuration sous deux formes.
Soit vous continuez avec un objet correspondant aux sch√©mas de donn√©es que plone.registry se charge de construire pour vous avec la classe Record, soit vous d√©cidez d‚Äôutiliser la configuration sous forme de dictionnaire Python (cl√© ; valeur)</p>
<p>La base est toujours la m√™me :</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>from zope import component</span></span>
<span class="line"><span>from plone.registry.interfaces import IRegistry</span></span>
<span class="line"><span>from my.package import interfaces</span></span>
<span class="line"><span></span></span>
<span class="line"><span>...</span></span>
<span class="line"><span></span></span>
<span class="line"><span>def mymethod():</span></span>
<span class="line"><span>    registry = component.getUtility(IRegistry)</span></span>
<span class="line"><span>    #access par cle/valeur</span></span>
<span class="line"><span>    entryPrice = registry['my.package.entryPrice']</span></span>
<span class="line"><span>    #access par recordproxy</span></span>
<span class="line"><span>    zooSettings = registry.forInterface(interfaces.IZooSettings, check=False)</span></span>
<span class="line"><span>    if zooSettings is not None:</span></span>
<span class="line"><span>        entryPriceBis = zooSettings.entryPrice</span></span></code></pre>
<p>Le param√®tre ‚Äúcheck=False‚Äù permet de ne rien retourner si le registre ne dispose pas des enregistrements correspondant √† l‚Äôinterface.
Dans le cas contraire une exception ‚ÄúKeyError‚Äù est soulev√©e et vous devez donc la g√©rer avec les instructions python try/except.</p>
<h2 id="cr√©ation-dun-panneau-de-configuration-de-votre-module-additionnel">Cr√©ation d‚Äôun panneau de configuration de votre module additionnel</h2>
<p>Il est toujours pratique pour un administrateur de site de disposer d‚Äôun panneau de configuration de votre module additionnel.
L‚Äôint√©gration de plone.registry dans le CMS met √† disposition la base n√©cessaire pour pouvoir r√©aliser un panneau de configuration tr√®s rapidement.
Pour commencer vous devez cr√©er un fichier controlpanel.py avec ce code:</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>from plone.app.registry.browser import controlpanel as basepanel</span></span>
<span class="line"><span>from plone.z3cform import layout</span></span>
<span class="line"><span>from my.package import interfaces</span></span>
<span class="line"><span>from my.package import messageFactory as _</span></span>
<span class="line"><span></span></span>
<span class="line"><span>class ZooControlPanelForm(basepanel.RegistryEditForm):</span></span>
<span class="line"><span>    schema = interfaces.IZooSettings</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ZooControlPanelView = layout.wrap_form(ZooControlPanelForm, ControlPanelFormWrapper)</span></span>
<span class="line"><span></span></span>
<span class="line"><span>ZooControlPanelView.label = _(u"Zoo settings")</span></span></code></pre>
<p>Dans votre fichier configure.zcml il faut maintenant ajouter la vue correspondante:</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;browser:page</span></span>
<span class="line"><span>  name="zoo-controlpanel"</span></span>
<span class="line"><span>  for="Products.CMFPlone.interfaces.IPloneSiteRoot"</span></span>
<span class="line"><span>  permission="cmf.ManagePortal"</span></span>
<span class="line"><span>  class=".controlpanel.ZooControlPanelView"</span></span>
<span class="line"><span>/> </span></span></code></pre>
<p>Dans le profile d‚Äôinstallation vous devez √©galement d√©clarer la ‚Äúconfiglet‚Äù pour que votre vue soit acc√©ssible √† partir du panneau de contr√¥le:</p>
<pre class="astro-code monokai" style="background-color:#272822;color:#F8F8F2; overflow-x: auto;" tabindex="0" data-language="plaintext"><code><span class="line"><span>&#x3C;?xml version="1.0"?></span></span>
<span class="line"><span>&#x3C;object</span></span>
<span class="line"><span>  name="portal_controlpanel"</span></span>
<span class="line"><span>  xmlns:i18n="http://xml.zope.org/namespaces/i18n"</span></span>
<span class="line"><span>  i18n:domain="my.package"></span></span>
<span class="line"><span></span></span>
<span class="line"><span>  &#x3C;configlet</span></span>
<span class="line"><span>    title="Zoo settings"</span></span>
<span class="line"><span>    action_id="my.package.zoosettings" </span></span>
<span class="line"><span>    appId="my.package"</span></span>
<span class="line"><span>    category="Products"</span></span>
<span class="line"><span>    condition_expr=""</span></span>
<span class="line"><span>    url_expr="string:${portal_url}/@@zoo-controlpanel"</span></span>
<span class="line"><span>    icon_expr="string:${portal_url}/++resource++my.package/icon.png"</span></span>
<span class="line"><span>    visible="True"</span></span>
<span class="line"><span>    i18n:attributes="title"></span></span>
<span class="line"><span>      &#x3C;permission>Manage portal&#x3C;/permission></span></span>
<span class="line"><span>  &#x3C;/configlet></span></span>
<span class="line"><span></span></span>
<span class="line"><span>&#x3C;/object></span></span></code></pre>
<p>La classe RegistryEditForm d√©finie les m√©thodes ‚ÄúupdateFields‚Äù et ‚ÄúupdateWidgets‚Äù qui vous permette d‚Äôintervenir sur la construction du formulaire, pour par exemple changer le widgetFactory d‚Äôun champs ou encore changer les param√®tres d‚Äôun widget comme par exemple le param√®tre rows d‚Äôun champs texte.</p>
<p>Disponible sous forme de module additionnel pour Plone 4 ce module est d√©j√† largement utilis√©.</p>  </div> <footer class="post-footer mt-8 pt-6 border-t border-gray-200"> <div class="tags"> <span class="font-semibold">Tags:</span> <a href="/tags/plone" class="ml-2 inline-block bg-gray-100 px-3 py-1 rounded text-sm text-blue-600 hover:text-blue-800 mr-2">plone</a> </div> </footer> </article>  </div> </main> </div> <!-- Footer --> <footer class="bg-black text-white py-12 border-t border-gray-800"> <div class="max-w-4xl mx-auto px-6 text-center"> <p class="text-gray-400">&copy; 2025 Jean-Michel FRANCOIS. All rights reserved.</p> </div> </footer> </body></html>