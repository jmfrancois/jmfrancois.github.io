---
import BaseLayout from './BaseLayout.astro';
import { getEntry } from 'astro:content';

interface Props {
  title: string;
  date: Date;
  categories?: string[];
  tags?: string[];
}

const { title, date, categories = [], tags = [] } = Astro.props;
---

<BaseLayout title={title}>
  <article class="post max-w-2xl mx-auto px-4 py-8">
    <header class="post-header mb-8 border-b border-gray-200 pb-6">
      <h1 class="text-4xl font-bold mb-4">{title}</h1>
      <div class="post-meta text-gray-600">
        <time datetime={date.toISOString()}>
          {date.toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
        </time>
        {categories.length > 0 && (
          <div class="categories mt-2">
            <span class="font-semibold">Categories:</span>
            {categories.map((cat) => (
              <a href={`/categories/${cat}`} class="ml-2 text-blue-600 hover:text-blue-800">{cat}</a>
            ))}
          </div>
        )}
      </div>
    </header>
    
    <div class="post-content prose prose-sm">
      <slot />
    </div>
    
    {tags.length > 0 && (
      <footer class="post-footer mt-8 pt-6 border-t border-gray-200">
        <div class="tags">
          <span class="font-semibold">Tags:</span>
          {tags.map((tag) => (
            <a href={`/tags/${tag}`} class="ml-2 inline-block bg-gray-100 px-3 py-1 rounded text-sm text-blue-600 hover:text-blue-800 mr-2">{tag}</a>
          ))}
        </div>
      </footer>
    )}
  </article>
</BaseLayout>
