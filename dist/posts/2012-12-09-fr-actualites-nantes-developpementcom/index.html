<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><!-- Favicon & Icons --><link rel="icon" type="image/svg+xml" href="/favicon.svg"><link rel="icon" type="image/x-icon" href="/assets/ico/favicon.ico"><link rel="apple-touch-icon" sizes="180x180" href="/assets/ico/apple-icon-180x180.png"><link rel="apple-touch-icon" sizes="152x152" href="/assets/ico/apple-icon-152x152.png"><link rel="apple-touch-icon" sizes="144x144" href="/assets/ico/apple-icon-144x144.png"><link rel="apple-touch-icon" sizes="120x120" href="/assets/ico/apple-icon-120x120.png"><link rel="apple-touch-icon" sizes="114x114" href="/assets/ico/apple-icon-114x114.png"><link rel="icon" type="image/png" sizes="192x192" href="/assets/ico/android-icon-192x192.png"><link rel="icon" type="image/png" sizes="144x144" href="/assets/ico/android-icon-144x144.png"><link rel="icon" type="image/png" sizes="96x96" href="/assets/ico/favicon-96x96.png"><link rel="icon" type="image/png" sizes="72x72" href="/assets/ico/android-icon-72x72.png"><link rel="icon" type="image/png" sizes="36x36" href="/assets/ico/android-icon-36x36.png"><meta name="msapplication-TileColor" content="#ffffff"><meta name="msapplication-TileImage" content="/assets/ico/ms-icon-144x144.png"><meta name="theme-color" content="#ffffff"><!-- Meta Tags --><meta name="generator" content="Astro v5.16.6"><meta name="description" content="Jean-Michel FRANCOIS - Blog"><title>Nantes M√©tropole D√©veloppement</title><link rel="stylesheet" href="/_astro/_slug_.BJBslw4O.css"></head> <body class="flex flex-col min-h-screen bg-white text-gray-900"> <!-- Top Navigation Bar --> <header class="sticky top-0 z-40 bg-white border-b border-gray-200"> <div class="px-8 py-4 flex items-center justify-between"> <div class="flex items-center gap-8"> <a href="/" class="text-2xl font-bold text-black hover:text-gray-700 transition">
JM Fran√ßois
</a> <nav class="flex items-center gap-6"> <a href="/" class="text-gray-700 hover:text-black transition font-medium text-sm">
Home
</a> <a href="/categories" class="text-gray-700 hover:text-black transition font-medium text-sm">
Categories
</a> <a href="/tags" class="text-gray-700 hover:text-black transition font-medium text-sm">
Tags
</a> </nav> </div> <!-- Social Links --> <div class="flex items-center gap-5"> <!-- Twitter/X --> <a href="https://www.twitter.com/toutpt_fr" target="_blank" rel="noopener noreferrer" class="text-gray-700 hover:text-black transition" aria-label="Twitter"> <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"> <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.21 0-.42-.015-.63A9.935 9.935 0 0024 4.59z"></path> </svg> </a> <!-- LinkedIn --> <a href="http://www.linkedin.com/profile/view?id=42808053" target="_blank" rel="noopener noreferrer" class="text-gray-700 hover:text-blue-700 transition" aria-label="LinkedIn"> <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"> <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.475-2.236-1.986-2.236-1.081 0-1.722.731-2.004 1.438-.103.249-.129.597-.129.946v5.421h-3.554s.05-8.805 0-9.719h3.554v1.375c.427-.659 1.191-1.599 2.897-1.599 2.117 0 3.704 1.385 3.704 4.362v5.581zM5.337 8.855c-1.144 0-1.915-.762-1.915-1.715 0-.955.771-1.715 1.921-1.715 1.147 0 1.915.76 1.915 1.715 0 .953-.768 1.715-1.921 1.715zm1.946 11.597H3.392V9.588h3.891v10.864zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.225 0z"></path> </svg> </a> <!-- Stack Overflow --> <a href="http://stackoverflow.com/users/622081/toutpt" target="_blank" rel="noopener noreferrer" class="text-gray-700 hover:text-orange-500 transition" aria-label="Stack Overflow"> <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"> <path d="M18.986 21.865v-6.404h2.134V24H1.844v-8.539h2.134v6.404h15.008zM6.111 19.731H16.85v-2.137H6.111v2.137zm.259-4.852h10.438v-2.137H6.37v2.137zM7.17 13.995h9.282v-2.137H7.17v2.137zm8.945-4.979H6.248v2.137h9.867v-2.137z"></path> </svg> </a> <!-- GitHub (personal) --> <a href="https://github.com/toutpt" target="_blank" rel="noopener noreferrer" class="text-gray-700 hover:text-black transition" aria-label="GitHub"> <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"> <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v 3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path> </svg> </a> <!-- GitHub (Talend) --> <a href="https://github.com/jmfrancois" target="_blank" rel="noopener noreferrer" class="text-gray-700 hover:text-black transition" aria-label="GitHub (Talend)"> <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"> <path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v 3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path> </svg> </a> <!-- NPM --> <a href="https://www.npmjs.com/~toutpt" target="_blank" rel="noopener noreferrer" class="text-gray-700 hover:text-red-600 transition" aria-label="NPM"> <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"> <path d="M1.763 0C.786 0 0 .786 0 1.763v20.474C0 23.214.786 24 1.763 24h20.474c.977 0 1.763-.786 1.763-1.763V1.763C24 .786 23.214 0 22.237 0zM5.13 5.323l13.837.019-.009 13.836h-3.464l.012-10.382h-3.456L12.04 19.17H5.13V5.323z"></path> </svg> </a> <!-- CV (document icon) --> <a href="https://www.doyoubuzz.com/jeanmichel-francois" target="_blank" rel="noopener noreferrer" class="text-gray-700 hover:text-black transition border-l border-gray-300 pl-5" aria-label="CV"> <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24"> <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z"></path> <polyline points="14 2 14 8 20 8" fill="none" stroke="currentColor" stroke-width="2"></polyline> <line x1="12" y1="11" x2="12" y2="17" stroke="currentColor" stroke-width="2"></line> <line x1="9" y1="14" x2="15" y2="14" stroke="currentColor" stroke-width="2"></line> </svg> </a> </div> </div> </header> <!-- Sidebar --> <div class="flex flex-1"> <aside id="sidebar" class="w-64 bg-black text-white overflow-y-auto flex flex-col"> <a href="/" class="flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition font-medium"> <span class="text-lg">üè†</span> <span>Home</span> </a> <a href="/categories" class="flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition font-medium"> <span class="text-lg">üìÅ</span> <span>Categories</span> </a> <a href="/tags" class="flex items-center gap-3 px-4 py-3 rounded-lg hover:bg-gray-800 transition font-medium"> <span class="text-lg">üè∑Ô∏è</span> <span>Tags</span> </a> <!-- Side Projects Card --> <div class="mx-4 mb-6 p-4 bg-gray-900 rounded-lg border border-gray-800"> <h3 class="text-white font-bold mb-3 text-sm">Side Projects</h3> <div class="space-y-2"> <a href="https://toutpt.github.io/fuelcalc/index.html" target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 text-gray-300 hover:text-blue-400 transition text-sm"> <span>‚Üí</span> <span>fuelcalc</span> </a> <a href="https://toutpt.github.io/osm-transport-editor/index.html#" target="_blank" rel="noopener noreferrer" class="flex items-center gap-2 text-gray-300 hover:text-blue-400 transition text-sm"> <span>‚Üí</span> <span>osm transport editor</span> </a> </div> </div> <div class="p-6 border-t border-gray-800 text-gray-400 text-sm"> <p>&copy; 2025 JM Fran√ßois</p> </div> </aside> <!-- Main Content --> <main class="flex-1 w-full"> <div class="max-w-4xl mx-auto px-6 py-12">  <article class="post max-w-2xl mx-auto px-4 py-8"> <header class="post-header mb-8 border-b border-gray-200 pb-6"> <h1 class="text-4xl font-bold mb-4">Nantes M√©tropole D√©veloppement</h1> <div class="post-meta text-gray-600"> <time datetime="2012-12-09T00:00:00.000Z"> December 9, 2012 </time> <div class="categories mt-2"> <span class="font-semibold">Categories:</span> <a href="/categories/fr" class="ml-2 text-blue-600 hover:text-blue-800">fr</a> </div> </div> </header> <div class="post-content prose prose-sm">  <p>C‚Äôest en juillet 2010 que j‚Äôavais annonc√© la nouvelle version du site Internet</p>
<p><a href="http://www.nantes-developpement.com">nantes-developpement</a>.</p>
<p>Ce projet utilisant beaucoup de modules, je vous fais profiter de ce choix:</p>
<ul>
<li>
<p><a href="https://pypi.python.org/pypi/collective.addthis">collective.addthis</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/collective.picknik">collective.picnik</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/collective.sugarcrm">collective.sugarcrm</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/collective.configviews">collective.configviews</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/collective.gallery">collective.gallery</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/collective.dewplayer">collective.dewplayer</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/collective.portlet.contact">collective.portlet.contact</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/collective.portlet.feedmixer">collective.portlet.feedmixer</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/collective.googleanalytics">collective.googleanalytics</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/nmd.plonelinkasvideoembed">nmd.plonelinkasvideoembed</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/collective.z3cform.norobots">collective.z3cform.norobots</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/qi.portlet.TagClouds">qi.portlet.TagClouds</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/collective.singing">collective.singing &#x26; collective.dancing</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/archetypes.uploadreferencewidget">archetypes.uploadreferencewidget</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/babel">babel</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/Products.Maps">Products.Maps</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/Products.PloneFormGen">Products.PloneFormGen</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/Products.TinyMCE">Products.TinyMCE</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/Products.TextIndexNG3">Products.TextIndexNG3</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/Products.CompoundField">Products.CompoundField</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/Products.ZNagios">Products.ZNagios</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/five.grok">five.grok</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/Products.MemcachedManager">Products.MemcachedManager</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/Relstorage">Relstorage</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/plone.app.theming">plone.app.theming</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/plone.app.caching">plone.app.caching</a></p>
</li>
<li>
<p><a href="https://pypi.python.org/pypi/plone.app.search">plone.app.search</a></p>
</li>
</ul>
<p>Ces modules √©taient pr√©sents dans la version Plone3 mais ont √©t√© retir√©s :</p>
<ul>
<li><a href="https://pypi.python.org/pypi/collective.groupdashboard">collective.groupdashboard</a></li>
<li><a href="https://pypi.python.org/pypi/collective.portlet.actions">collective.portlet.actions</a></li>
<li><a href="https://pypi.python.org/pypi/collective.plonebookmarklets">collective.plonebookmarklets</a></li>
<li><a href="https://pypi.python.org/pypi/collective.contentlicensing">collective.contentlicensing</a></li>
<li><a href="https://pypi.python.org/pypi/collective.autopermission">collective.autopermission</a></li>
<li><a href="https://pypi.python.org/pypi/collective.contentrules.mail">collective.contentrules.mail</a></li>
<li><a href="https://pypi.python.org/pypi/collective.harlequin">collective.harlequin</a></li>
<li><a href="https://pypi.python.org/pypi/collective.monkeypatcher">collective.monkeypatcher</a></li>
<li><a href="https://pypi.python.org/pypi/collective.z3cform.grok">collective.z3cform.grok</a></li>
<li><a href="https://pypi.python.org/pypi/experimental.contentcreation">experimental.contentcreation</a></li>
<li><a href="https://pypi.python.org/pypi/experimental.aggressiveopaquespeedup">experimental.aggressiveopaquespeedup</a></li>
<li><a href="https://pypi.python.org/pypi/collective.remove.kss">collective.remove.kss</a></li>
<li><a href="https://pypi.python.org/pypi/collective.remove.kupu">collective.remove.kupu</a></li>
<li><a href="https://pypi.python.org/pypi/collective.remove.rules">collective.remove.rules</a></li>
<li><a href="https://pypi.python.org/pypi/Products.CacheSetup">Products.CacheSetup</a></li>
<li><a href="https://pypi.python.org/pypi/plone.app.ldap">plone.app.ldap</a></li>
<li><a href="https://pypi.python.org/pypi/iw.fss">iw.fss</a></li>
</ul>
<h1 id="migrer-de-plone3-√†-plone4">Migrer de Plone3 √† Plone4</h1>
<p>La migration a √©t√© r√©alis√©e via un script de pr√©migration pour pr√©parer la
base de donn√©es √† la migration, la migration effective du site, puis une migration li√©e aux modules.</p>
<h2 id="retirer-iwfss">Retirer iw.fss</h2>
<p>Ce ne fut pas le plus simple. Apr√®s avoir lu pas mal de mails autour de √ßa, j‚Äôai adapt√© un bout de code √† mon cas.</p>
<p>{% gist toutpt/6719656 %}</p>
<h1 id="theme">Theme</h1>
<p>Le changement de charte graphique a √©t√© l‚Äô√©v√©nement d√©clencheur de la migration.
Le th√®me utilise le framework de grille CSS 960 avec le tout nouveau moteur de th√®me Plone :
plone.app.theming, bas√© sur Diazo.</p>
<p>C‚Äôest mon second th√®me avec ce moteur. Mon avis est qu‚Äôil acc√©l√®re la cr√©ation de th√®mes simples
mais ne permet pas la cr√©ation d‚Äôun th√®me complet.</p>
<p>Le besoin de surcharger des templates, des viewlets, de conna√Ætre la m√©canique
des ‚Äòskins directories‚Äô et autre ‚Äòbrowser view‚Äô reste n√©cessaire.</p>
<h1 id="integration">Integration</h1>
<p>J‚Äôai test√© beaucoup de modules, cr√©√© quelques modules, am√©lior√©,
fait des rapports de bugs, mais aussi de l‚Äôint√©gration.</p>
<p>J‚Äôai ajout√© l‚Äôint√©gration entre les modules collective.addthis et
collective.googleanalytics pour que tout partage pousse un √©v√©nement social dans GA.</p>
<p>J‚Äôai d√©couvert le module plone.app.search qui est le moteur de recherche
de la prochaine version de Plone (4.2). L‚Äôint√©gration au projet a √©t√© simple,
il m‚Äôa suffi d‚Äôajouter Modernizr au registre des javascripts, de modifier
le rendu (simple template) et de modifier les liens dans le livesearch
pour utiliser cette nouvelle version.
Ce nouveau module est bien plus simple que les pr√©c√©dents moteurs de recherche.</p>
<p>Le proxy cache Varnish est utilis√© et int√©gr√© √† l‚Äôaide du module plone.app.caching.
J‚Äôai rapport√© un bug concernant la fonction afficher/masquer une portlet qui ne fonctionne pas bien avec Varnish.</p>
<p>SugarCRM est utilis√© √† plusieurs niveaux : authentification, portlet contact,
formulaire de lead (via le module PloneFormGen) et une viewlet affichant
une entreprise et un contact (activ√© avec un formulaire autocomplete) le tout via le module collective.sugarcrm.</p>
<p>TinyMCE 1.3 est utilis√© dans sa version d√©veloppement et utilise ici une modification :
la configuration n‚Äôest pas la m√™me pour un administrateur de site que pour un contributeur.
Vous trouverez le master sur GitHub.</p>
<p>Les galeries (diaporamas) sont affich√©es avec le module collective.gallery et
un affichage bas√© sur le plugin jQuery ad-gallery, en utilisant Picasaweb comme base d‚Äôalbums photos.</p>  </div> <footer class="post-footer mt-8 pt-6 border-t border-gray-200"> <div class="tags"> <span class="font-semibold">Tags:</span> <a href="/tags/r√©alisation" class="ml-2 inline-block bg-gray-100 px-3 py-1 rounded text-sm text-blue-600 hover:text-blue-800 mr-2">r√©alisation</a><a href="/tags/plone" class="ml-2 inline-block bg-gray-100 px-3 py-1 rounded text-sm text-blue-600 hover:text-blue-800 mr-2">plone</a> </div> </footer> </article>  </div> </main> </div> <!-- Footer --> <footer class="bg-black text-white py-12 border-t border-gray-800"> <div class="max-w-4xl mx-auto px-6 text-center"> <p class="text-gray-400">&copy; 2025 Jean-Michel FRANCOIS. All rights reserved.</p> </div> </footer> </body></html>